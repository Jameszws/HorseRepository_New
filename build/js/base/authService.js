define(["baseService"],function(e){e.factory("authservice",["$rootScope","$location","$cookieStore",function(e,o,t){return{checkAuth:function(t,i){var n=Horse.zCookieStorage.getCookie("UserInfo");if(e.UserInfo=n,Horse.validate.objIsNull(n)||Horse.validate.isNull(n.token)){if(o.absUrl().toLowerCase().indexOf("login")>=0)return;return!Horse.validate.objIsNull(t)&&t.preventDefault(),void Horse.alert.init({title:"登录失败",content:"您目前为非登陆状态，请登录~",callback:function(){Horse.validate.isFunction(i)&&i(!1)},cancelCallBack:function(){Horse.validate.isFunction(i)&&i(!1)}})}Horse.validate.isFunction(i)&&i(!0)},checkAuthSync:function(){var o=Horse.zCookieStorage.getCookie("UserInfo");return e.UserInfo=o,!Horse.validate.objIsNull(o)&&!Horse.validate.isNull(o.token)}}}])});