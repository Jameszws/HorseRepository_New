define(["zUiPopuplayerCommon"],function(o){var t=o.popupCommon,e=o.popupEnumBtn,i=function(){this.defaultParams={title:"",content:"",boxstyle:"",isShowIcon:!0,callback:$.noop,btnSureText:"",btnCancelText:"",cancelCallBack:$.noop},this.options={},this.popupLength=0};return i.prototype={constructor:i,init:function(o){this.options=Horse.util.coverObject(this.defaultParams,o),this._init(this.options)},_init:function(o){var i=t.getBasicElements_Confirm(this.options.content,this.options.isShowIcon),n=t.getPopupLayerHtml(this.options.title,this.options.boxstyle,i,e.SureAndCancel,this.options.btnSureText,this.options.btnCancelText);$("body").append(n),this.popupLength=$("div[userDefinedAttr='popupLayerBg']").length,t.showPopup(),t.registerBasicEvent(this.options.cancelCallBack),t.popupLayerPosition(),this._registerBtnClick(o),this._registerDocMousemovePopupLayer(),this._registerDocMouseupPopupLayer(),this._registerTitleMousedownPopupLayer(),this._registerWinBlurPopupLayer(),this._registerCancelMousedown()},_registerBtnClick:function(o){var e=this.popupLength;$("#popupBtnSure_"+e).click(function(){t.closePopup(),$.isFunction(o.callback)&&o.callback()})},_registerDocMousemovePopupLayer:function(){t.docMousemovePopupLayer()},_registerDocMouseupPopupLayer:function(){t.docMouseupPopupLayer()},_registerTitleMousedownPopupLayer:function(){t.titleMousedownPopupLayer()},_registerWinBlurPopupLayer:function(){t.winBlurPopupLayer()},_registerCancelMousedown:function(){t.cancelMousedown()}},i});