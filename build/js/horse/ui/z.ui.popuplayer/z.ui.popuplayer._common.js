define([],function(){var e={Error:1,Info:2,Question:3,Warning:4,Alert:5},n={SureAndCancel:1,SureOnly:2,CancelOnly:3},t={bDrag:!1,disX:0,disY:0},p={getBasicElements_Confirm:function(e,n){var t="";return t+="<div class='cancel_dingdai_tixing'>",t+="<dl class='f-oh'>",n&&(t+="<dd class='f-fl infoIcon'></dd>"),t+="    <dd class='f-fl cancel_dingdai_text cancel_dingdai_text_content'>"+e+"</dd>",t+="</dl>",t+="</div>"},getBasicElements_Alert:function(n,t){var p="";switch(p+="<div class='cancel_dingdai_tixing'>",p+="     <dl class='f-oh'>",p+="<dd class='f-fl ",n){case e.Error:p+="errorIcon";break;case e.Info:p+="infoIcon";break;case e.Question:p+="questionIcon";break;case e.Warning:p+="warningIcon";break;case e.Alert:p+=""}return p+="'></dd>",p+="         <dd class='f-fl cancel_dingdai_text cancel_dingdai_text_content'>"+t+"</dd>",p+="     </dl>",p+=" </div>"},getPopupLayerHtml:function(e,n,t,p,i,o){var r="";return r+="<div id='"+this.returnId("popupBg")+"' userDefinedAttr='popupLayerBg' class='popupBg' style='z-index:"+this.returnPopupBgZIndex()+"' ></div>",r+="<div id='"+this.returnId("popupShow")+"' class='popupShow' style='z-index:"+this.returnPopupShowZIndex()+"'>",r+="   <div class='cancel_dingdai_pop'>",r+="       <div class='cancel_dingdai_wrap_out' id='"+this.returnId("wrapOut")+"'>",r+="           <div id='popupBox' class='cancel_dingdai_wrap "+n+"' >",r+="               <h2 id='"+this.returnId("popupTitle")+"' class='cancel_dingdai_title f-oh'>",r+="                   <span class='cancel_dingdai_text f-fl'>"+e+"</span>",r+="                   <em id='"+this.returnId("cancelImg")+"' class='cancel_dingdai_title_icon f-fr' style='font-size:9px;'></em>",r+="               </h2>",r+="               <div id='"+this.returnId("popupContent")+"' style='width:100%;height:auto;background-color:white'>",r+=t,r+="               </div>",r+=this.getPopupLayerBtn(p,i,o),r+="           </div>",r+="       </div>",r+="    </div>",r+="</div>"},getPopupLayerBtn:function(e,t,p){t=""==this.getParam(t)?"确定":t,p=""==this.getParam(p)?"取消":p;var i="";i+="<div class='cancel_dingdai_tijiao'>",i+="    <dl class='f-fr f-oh'>";var o="";o+="<dd class='f-fl cancel_dingdai_submit'>",o+="    <input type='button' id='"+this.returnId("popupBtnSure")+"'  value='"+t+"' />",o+="</dd>";var r="";switch(r+="<dd class='f-fl cancel_dingdai_cancel'>",r+="    <input type='button' id='"+this.returnId("popupBtnCancel")+"' value='"+p+"' />",r+="</dd>",e){case n.SureAndCancel:i+=o+r;break;case n.SureOnly:i+=o;break;case n.CancelOnly:i+=r}return i+="    </dl></div>"},returnId:function(e){var n=$("div[userDefinedAttr='popupLayerBg']").length;return n<0?e+"_1":(n++,e+"_"+n)},returnPopupBgZIndex:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;return e<0?1001:1002+2*e-1},returnPopupShowZIndex:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;return e<0?1002:1002+2*e},showPopup:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;$("#popupBg_"+e).show(),$("#popupShow_"+e).show()},closePopup:function(e){var n=$("div[userDefinedAttr='popupLayerBg']").length;$("#popupBg_"+n).hide(),$("#popupShow_"+n).hide(),$("#popupBg_"+n).remove(),$("#popupShow_"+n).remove(),Horse.validate.isFunction(e)&&e()},registerBasicEvent:function(e){var n=$("div[userDefinedAttr='popupLayerBg']").length;$("#cancelImg_"+n+",#popupBtnCancel_"+n).click(function(){p.closePopup(e)})},getParam:function(e){return void 0===e?"":e},popupLayerPosition:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length,n=$("#wrapOut_"+e).height()/2,t=$("#wrapOut_"+e).width()/2,p=$(window).height()/2-n+"px",i=$(window).width()/2-t+"px";$("#popupShow_"+e).css("left",i),$("#popupShow_"+e).css("top",p)},docMousemovePopupLayer:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;e<0||$(document).mousemove(function(n){if(!t.bDrag)return!1;var p=n||window.event,i=p.clientX-t.disX,o=p.clientY-t.disY;document.documentElement.clientWidth,$("#popupShow_"+e).outerWidth(),document.documentElement.clientHeight,$("#popupShow_"+e).outerHeight();return $("#popupShow_"+e).css("margin-top",0),$("#popupShow_"+e).css("margin-left",0),$("#popupShow_"+e).css("left",i),$("#popupShow_"+e).css("top",o),!1})},docMouseupPopupLayer:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;e<0||$(document).mouseup(function(){t.bDrag=!1,null!=$("#popupTitle_"+e)[0]&&$("#popupTitle_"+e)[0].releaseCapture&&$("#popupTitle_"+e)[0].releaseCapture()})},titleMousedownPopupLayer:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;e<0||$("#popupTitle_"+e).mousedown(function(n){var p=n||window.event;return t.bDrag=!0,t.disX=p.clientX-$("#popupShow_"+e).offset().left,t.disY=p.clientY-$("#popupShow_"+e).offset().top,this.setCapture&&this.setCapture(),!1})},winBlurPopupLayer:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;e<0||$(window).blur(function(){t.bDrag=!1,null!=$("#popupTitle_"+e)[0]&&$("#popupTitle_"+e)[0].releaseCapture&&$("#popupTitle_"+e)[0].releaseCapture()})},cancelMousedown:function(){var e=$("div[userDefinedAttr='popupLayerBg']").length;e<0||$("#cancelImg_"+e).mousedown(function(e){e.stopPropagation()})}};return{popupEnumType:e,popupEnumBtn:n,popupCommon:p}});